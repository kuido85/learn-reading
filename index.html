<!DOCTYPE html>
<html lang="et">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Õpi lugema!</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Comic Sans MS', 'Segoe UI', Arial, sans-serif;
            min-height: 100vh;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .container {
            text-align: center;
            padding: 20px;
        }

        h1 {
            color: white;
            font-size: 3rem;
            margin-bottom: 40px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .menu {
            display: flex;
            flex-direction: column;
            gap: 20px;
            align-items: center;
        }

        .menu-btn {
            font-size: 1.8rem;
            padding: 20px 50px;
            border: none;
            border-radius: 20px;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
            font-weight: bold;
            min-width: 300px;
        }

        .menu-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 8px 25px rgba(0,0,0,0.3);
        }

        .btn-3 {
            background: #FF6B6B;
            color: white;
        }

        .btn-4 {
            background: #4ECDC4;
            color: white;
        }

        .btn-5 {
            background: #FFE66D;
            color: #333;
        }

        .btn-6 {
            background: #95E1D3;
            color: #333;
        }

        /* Word display screen */
        .word-screen {
            display: none;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 80vh;
        }

        .word-display {
            font-weight: bold;
            color: white;
            text-shadow: 4px 4px 8px rgba(0,0,0,0.3);
            margin-bottom: 60px;
            letter-spacing: 0.05em;
            animation: fadeIn 0.5s ease;
            text-transform: uppercase;
            max-width: 95vw;
            white-space: nowrap;
            padding: 0 10px;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: scale(0.8);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        .next-btn {
            font-size: 2rem;
            padding: 20px 60px;
            background: #FF6B6B;
            color: white;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
            font-weight: bold;
            margin-bottom: 20px;
        }

        .next-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 8px 25px rgba(0,0,0,0.3);
        }

        .back-btn {
            font-size: 1.2rem;
            padding: 10px 30px;
            background: rgba(255,255,255,0.2);
            color: white;
            border: 2px solid white;
            border-radius: 15px;
            cursor: pointer;
            transition: background 0.2s;
        }

        .back-btn:hover {
            background: rgba(255,255,255,0.3);
        }

        @media (max-width: 600px) {
            h1 {
                font-size: 2rem;
            }
            .menu-btn {
                font-size: 1.4rem;
                padding: 15px 30px;
                min-width: 250px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Menu screen -->
        <div class="menu-screen" id="menuScreen">
            <h1>Õpi lugema!</h1>
            <div class="menu">
                <button class="menu-btn btn-3" onclick="startGame(3)">3 tähte</button>
                <button class="menu-btn btn-4" onclick="startGame(4)">4 tähte</button>
                <button class="menu-btn btn-5" onclick="startGame(5)">5 tähte</button>
                <button class="menu-btn btn-6" onclick="startGame(6)">6+ tähte</button>
            </div>
        </div>

        <!-- Word display screen -->
        <div class="word-screen" id="wordScreen">
            <div class="word-display" id="wordDisplay"></div>
            <button class="next-btn" onclick="nextWord()">Järgmine</button>
            <button class="back-btn" onclick="goBack()">← Tagasi</button>
        </div>
    </div>

    <script>
        // Estonian words in nominative case (nimetav kääne)
        const words = {
            // 3-letter words
            3: [
                // Perekond
                'ema', 'isa', 'onu',
                // Loodus
                'puu', 'maa', 'tee', 'aed', 'org', 'soo', 'oja',
                // Kehaosad
                'suu', 'pea', 'käe', 'kõht',
                // Toit
                'sai', 'tee', 'sup',
                // Loomad
                'uss', 'koi',
                // Esemed
                'ahi', 'uks', 'võti', 'ike',
                // Muu
                'ots', 'osa', 'aeg', 'öö', 'jää', 'õun', 'mäe'
            ],

            // 4-letter words
            4: [
                // Loomad
                'kass', 'koer', 'hiir', 'kala', 'lind', 'karu', 'hunt', 'orav', 'siil', 'konn', 'part', 'hani', 'siga', 'lehm', 'kits', 'lammas',
                // Kehaosad
                'jalg', 'käsi', 'nina', 'silm', 'kõrv', 'sõrm', 'kael', 'selg', 'nahk', 'keel', 'süda',
                // Hooned ja kohad
                'maja', 'kodu', 'tuba', 'saun', 'mets', 'rand', 'sild', 'pood', 'kool', 'kiik',
                // Loodus
                'jõgi', 'järv', 'meri', 'mägi', 'pilv', 'lumi', 'vihm', 'tuul', 'päev',
                // Toit
                'leib', 'piim', 'muna', 'liha', 'sool', 'kook', 'supp', 'putr',
                // Esemed
                'tool', 'lamp', 'kell', 'sein', 'pilt', 'vaip', 'kapp', 'pall', 'nukk', 'kelk',
                // Transport
                'rong', 'buss', 'laev', 'auto',
                // Muu
                'raha', 'aega', 'õhtu', 'täht'
            ],

            // 5-letter words
            5: [
                // Loomad
                'jänes', 'orava', 'tiiger', 'konna', 'haigi', 'luige',
                // Aga pigem nimetavas:
                'jänes', 'tigu', 'kilpkonn',
                // Linnud
                'vares', 'rästas', 'kotkas',
                // Toit ja söögid
                'pirni', 'õunad', 'kapsas', 'sibul', 'porgand', 'redis',
                // Aga nimetavas:
                'pirn', 'sibul', 'redis', 'salat', 'leiba', 'vorst', 'juust',
                // Kehaosad
                'hammas', 'ranne', 'põlve',
                // Esemed
                'pliiats', 'vihik', 'raamat',
                // Kohad
                'haigla', 'apteek', 'teater', 'muuseum',
                // Muu
                'pilve', 'tähed'
            ],

            // 6+ letter words
            6: [
                // Perekond
                'vanaema', 'vanaisa', 'sõber', 'naaber',
                // Ametid
                'õpetaja', 'arstid', 'kokk', 'müüja', 'juuksur', 'ehitaja', 'kunstnik', 'laulja',
                // Loomad
                'elevant', 'kaelkirjak', 'krokodill', 'pingviin', 'delfiin', 'liblikas',
                // Toit
                'apelsin', 'banaan', 'maasikas', 'mustikas', 'vaarikas', 'jäätis', 'šokolaad',
                // Esemed
                'arvuti', 'telefon', 'televiisor', 'raamat', 'pliiats', 'koolikott', 'jalgratas',
                // Riided
                'särk', 'püksid', 'kleit', 'jope', 'müts', 'kindad', 'sokid', 'saapad',
                // Kohad
                'lasteaed', 'mänguväljak', 'raamatukogu',
                // Muu
                'päike', 'vikerkaar', 'lumememm'
            ]
        };

        // Cleaned up word lists - all nominative case
        words[3] = ['ema', 'isa', 'onu', 'puu', 'maa', 'tee', 'aed', 'org', 'soo', 'oja', 'suu', 'pea', 'sai', 'uss', 'ahi', 'uks', 'ots', 'osa', 'aeg', 'jää', 'õun', 'tõi', 'sõi', 'jõi', 'vee'];

        words[4] = [
            // Loomad
            'kass', 'koer', 'hiir', 'kala', 'lind', 'karu', 'hunt', 'orav', 'siil', 'konn', 'part', 'hani', 'siga', 'lehm', 'kits', 'mutt', 'kull', 'tuvi', 'luik', 'haug', 'karp',
            // Kehaosad
            'jalg', 'käsi', 'nina', 'silm', 'kõrv', 'sõrm', 'kael', 'selg', 'nahk', 'keel', 'süda', 'juus', 'kõht',
            // Hooned ja kohad
            'maja', 'kodu', 'tuba', 'saun', 'mets', 'rand', 'sild', 'pood', 'kool', 'kiik', 'turg', 'park',
            // Loodus
            'jõgi', 'järv', 'meri', 'mägi', 'pilv', 'lumi', 'vihm', 'tuul', 'päev', 'täht', 'vesi', 'tuli', 'muld',
            // Toit
            'leib', 'piim', 'muna', 'liha', 'sool', 'kook', 'supp', 'tee', 'mesi', 'õun', 'pirn',
            // Esemed
            'tool', 'lamp', 'kell', 'sein', 'pilt', 'vaip', 'kapp', 'pall', 'nukk', 'kelk', 'laud', 'padi', 'tekk', 'pott', 'tass', 'nuga',
            // Transport
            'rong', 'buss', 'laev', 'auto', 'paat',
            // Värvid
            'must', 'hall',
            // Muu
            'raha', 'aega', 'õhtu', 'päev', 'kiri', 'pidu'
        ].filter(w => w.length === 4);

        const random_words = [
            // Loomad
            'jänes', 'orav', 'kartul', 'hobune', 'koeral', 'kassil', 'ahven', 'suhkur', 'valge', 'pruun',
            // Õiged nimetavad:
            'jänes', 'rebane', 'ilves', 'põder', 'hirv', 'metssiga',
            'siil', 'mutt', 'konn', 'sisalik', 'rott', 'hamster',
            // Linnud
            'vares', 'harakas', 'kotkas', 'kukk', 'kana', 'kalkun',
            'part', 'hani', 'luik', 'kajakas', 'tuvi', 'varblane',
            // Putukad ja muud
            'sipelgas', 'mesilane', 'liblikas', 'ämblik', 'kilpkonn',
            // Kalad
            'haug', 'ahven', 'latikas', 'karp', 'siig', 'forell',
            // Toit
            'pirn', 'ploom', 'kirsid', 'õun', 'sibul', 'kapsas',
            'porgand', 'redis', 'kurk', 'tomat', 'salat', 'kartul',
            'vorst', 'sink', 'juust', 'jogurt', 'kohv', 'kakao',
            'puder', 'pannkook', 'kringel', 'sai',
            // Kehaosad
            'hammas', 'ranne', 'põlv', 'puus', 'rind', 'lõug',
            'kulm', 'huul', 'kand', 'varbad', 'sääred',
            // Esemed
            'pliiats', 'vihik', 'paber', 'käärid', 'liim', 'pintsel',
            'kamm', 'hari', 'nõel', 'niit', 'nööp', 'lukk',
            'võti', 'kett', 'paelad', 'kott', 'seljakott',
            // Mööbel
            'voodi', 'diivan', 'peegel', 'kardin', 'lühter',
            // Riided
            'särk', 'pluus', 'vest', 'jope', 'mantel', 'kleit',
            'seelik', 'püksid', 'sokid', 'kindad', 'müts', 'sall', 'lips',
            // Kohad
            'haigla', 'apteek', 'teater', 'kino', 'kohvik', 'restoran',
            'hotell', 'sadam', 'jaam', 'lennujaam',
            // Loodus
            'meri', 'järv', 'jõgi', 'oja', 'tiik', 'rand',
            'mägi', 'küngas', 'org', 'lagendik', 'niit', 'põld',
            'mets', 'park', 'aed', 'õu',
            // Ilm
            'päike', 'pilved', 'vihm', 'lumi', 'rahe', 'jää',
            'tuul', 'torm', 'udu', 'kaste', 'härmatis',
            // Muu
            'number', 'tähed', 'sõnad', 'laused', 'raamat', 'leht',
            // Perekond
            'vanaema', 'vanaisa', 'vanemad', 'lapsed', 'õde', 'vend',
            'sõber', 'sõbranna', 'naaber',
            // Ametid
            'õpetaja', 'arst', 'kokk', 'müüja', 'juuksur', 'ehitaja',
            'kunstnik', 'laulja', 'tantsija', 'näitleja', 'kirjanik',
            'politseinik', 'tuletõrjuja', 'autojuht', 'piloot', 'kapten',
            'aednik', 'sportlane', 'treener', 'fotograaf',
            // Loomad
            'elevant', 'kaelkirjak', 'krokodill', 'ninasarvik', 'jõehobu',
            'sebra', 'lõvi', 'tiiger', 'leopard', 'gepard', 'kaamel',
            'känguru', 'koaala', 'panda', 'pingviin', 'delfiin',
            'vaal', 'hai', 'kilpkonn', 'krokodill',
            'liblikas', 'lepatriinu', 'herilane', 'sääsk', 'kärbes',
            // Linnud
            'papagoi', 'flamingo', 'jaanalind', 'öökull', 'pistrik',
            // Toit ja joogid
            'apelsin', 'sidrun', 'greip', 'mandariin', 'ananass',
            'banaan', 'mango', 'kiivi', 'granaatõun', 'avokaado',
            'maasikas', 'mustikas', 'vaarikas', 'sõstar', 'karusmari',
            'arbuus', 'meloni', 'viinamari',
            'kartul', 'porgand', 'peet', 'kapsas', 'lillkapsas',
            'brokkoli', 'paprika', 'baklažaan', 'suvikõrvits',
            'jäätis', 'šokolaad', 'kommid', 'küpsised', 'kringel',
            'pannkook', 'vahvel', 'tordid',
            // Esemed ja tehnoloogia
            'arvuti', 'telefon', 'televiisor', 'raadio', 'kaamera',
            'printer', 'klaviatuur', 'hiir', 'ekraan', 'kõlarid',
            'kõrvaklapid', 'laadija', 'aku', 'juhe', 'pistik',
            'raamat', 'pliiats', 'pastapliiats', 'vildika', 'marker',
            'kustukumm', 'teritaja', 'joonlaud', 'kolmnurk', 'sirkel',
            'koolikott', 'seljakott', 'ranits', 'pinal', 'vihik', 'kaustik',
            // Mööbel
            'diivan', 'tugitool', 'riidekapp', 'raamaturiiul', 'kirjutuslaud',
            // Transport
            'jalgratas', 'tõukeratas', 'mootorratas', 'auto', 'veoauto',
            'buss', 'trollibus', 'tramm', 'rong', 'lennuk', 'helikopter',
            'laev', 'paat', 'jahi', 'kaater',
            // Riided
            'kampsun', 'pusa', 'dressid', 'teksad', 'lühikesed püksid',
            'sukkpüksid', 'aluspüksid', 'rinnahoidja',
            'sussid', 'sandaalid', 'ketsid', 'saapad', 'kummikud',
            // Kohad ja hooned
            'lasteaed', 'kool', 'ülikool', 'raamatukogu', 'muuseum',
            'teater', 'kino', 'kontserdisaal', 'staadion', 'spordisaal',
            'ujula', 'bassein', 'saun',
            'haigla', 'polikliinik', 'apteek', 'hambaravi',
            'toidupood', 'kaubamaja', 'turuhoone', 'kohvik', 'restoran',
            'hotell', 'hostel',
            'raudteejaam', 'bussijaam', 'lennujaam', 'sadam',
            'mänguväljak', 'loomaaed', 'botaanikaaed', 'lõbustuspark',
            // Loodus
            'vikerkaar', 'lumememm', 'lumehelves', 'jääpurikas',
            'äike', 'välk', 'pikne',
            'taimed', 'lilled', 'puud', 'põõsad', 'rohi', 'sammal', 'seened',
            // Tähtpäevad
            'sünnipäev', 'jõulud', 'lihavõtted', 'jaanipäev', 'halloween',
            // Muu
            'number', 'tähed', 'sõnad', 'lause', 'jutt', 'muinasjutt'
        ];

        words[5] = random_words.filter(w => w.length === 5);

        words[6] = random_words.filter(w => w.length >= 6);

        let currentCategory = null;
        let usedWords = [];

        function startGame(category) {
            currentCategory = category;
            usedWords = [];
            document.getElementById('menuScreen').style.display = 'none';
            document.getElementById('wordScreen').style.display = 'flex';
            nextWord();
        }

        function nextWord() {
            const wordList = words[currentCategory];

            // Reset if all words have been used
            if (usedWords.length >= wordList.length) {
                usedWords = [];
            }

            // Get available words
            const availableWords = wordList.filter(w => !usedWords.includes(w));

            // Pick random word
            const randomIndex = Math.floor(Math.random() * availableWords.length);
            const word = availableWords[randomIndex];
            usedWords.push(word);

            // Display with animation
            const display = document.getElementById('wordDisplay');
            display.style.animation = 'none';
            display.offsetHeight; // Trigger reflow
            display.style.animation = 'fadeIn 0.5s ease';
            display.textContent = word;

            // Calculate font size dynamically based on word length and viewport width
            const viewportWidth = window.innerWidth;
            const availableWidth = viewportWidth * 0.85;
            const charWidthRatio = 0.75; // Approximate width/height ratio for uppercase letters

            // Calculate max font size that fits the word
            const maxFontSize = availableWidth / (word.length * charWidthRatio);

            // Cap at reasonable max/min sizes
            const cappedFontSize = Math.min(Math.max(maxFontSize, 14), 150);
            display.style.fontSize = cappedFontSize + 'px';

            // Random color for each word
            const colors = ['#FFE66D', '#FF6B6B', '#4ECDC4', '#95E1D3', '#F8B500', '#FF8C00', '#00CED1', '#FF69B4'];
            display.style.color = colors[Math.floor(Math.random() * colors.length)];
        }

        function goBack() {
            document.getElementById('wordScreen').style.display = 'none';
            document.getElementById('menuScreen').style.display = 'block';
            currentCategory = null;
            usedWords = [];
        }

        // Recalculate font size on window resize/orientation change
        function updateFontSize() {
            const display = document.getElementById('wordDisplay');
            const word = display.textContent;
            if (!word) return;

            const viewportWidth = window.innerWidth;
            const availableWidth = viewportWidth * 0.65;
            const charWidthRatio = 0.75;

            const maxFontSize = availableWidth / (word.length * charWidthRatio);
            const cappedFontSize = Math.min(Math.max(maxFontSize, 14), 150);
            display.style.fontSize = cappedFontSize + 'px';
        }

        window.addEventListener('resize', updateFontSize);
        window.addEventListener('orientationchange', function() {
            setTimeout(updateFontSize, 100);
        });
    </script>
</body>
</html>
